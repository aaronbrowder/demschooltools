@(
rules : List[AttendanceRule],
codes_map : Map[String, AttendanceCode],
enable_partial_days : Boolean,
enable_late_fees : Boolean
)

@import helper._

@if(rules.size() > 0) {

	<table class="table sortable">
		<tr>
			<th>Rule #</th>
			<th>Category</th>
			<th>Person</th>
			<th>Start Date</th>
			<th>End Date</th>
			<th>Notification Email</th>
			<th>Days of Week</th>
			<th>Default Code</th>
			@if(enable_partial_days) {
				<th>Min Hours</th>
				<th>Latest Arrival Time</th>
			}
			@if(enable_late_fees) {
				<th>Exempt from Fees</th>
			}
		</tr>
		@for( rule <- rules ) {
			<tr>
				<td><a href="@routes.Attendance.rule(rule.id)">@rule.id</a></td>
				<td>@rule.category</td>
				<td>@rule.getFormattedPerson()</td>
				<td>@rule.getFormattedDate(rule.start_date, true)</td>
				<td>@rule.getFormattedDate(rule.end_date, true)</td>
				<td>@rule.notification_email</td>
				<td>@rule.getFormattedDaysOfWeek()</td>
				<td style="background: @rule.getCodeColor(codes_map)">@rule.absence_code</td>
				@if(enable_partial_days) {
					<td>@rule.min_hours</td>
					<td>@rule.getFormattedTime(rule.latest_start_time)</td>
				}
				@if(enable_late_fees) {
					<td>@rule.getFormattedBoolean(rule.exempt_from_fees)</td>
				}
			</tr>
		}
	</table>

}